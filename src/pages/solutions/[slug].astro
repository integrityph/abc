---
import SolutionLayout from "@/layouts/SolutionLayout.astro";
import { getCollection, getEntry } from "astro:content";

export async function getStaticPaths() {
	const solutionEntries = await getCollection("solutions");

	return solutionEntries
		.map((entry) => ({
			params: { slug: entry.slug },
			props: { entry },
		}));;
}

const { entry } = Astro.props;

const { Content } = await entry.render();

---
<SolutionLayout title={entry.data.list_title} slug={entry.slug}>
  <div class="row section-header work-hero" data-aos="fade-up">
    <div class="col-six md-six tab-1-2 mob-full work-hero-text" data-aos="fade-right">
      <h3 data-num={entry.data.order.toString().padStart(2, '0')} class="subhead">{entry.data.list_sub_title}</h3>

      <h1 class="display-1">
        <img src={entry.data.logo_large} alt="lukslofts-icon" class="image-size-300">
        <br>
      </h1>
      <p class="lead">{entry.data.view_sub_title}</p>

      <p class="lead">
        <a href={entry.data.url} target="_blank" class="btn inet-btn-stroke-red">Visit Website <i class="fa fa-external-link-alt"></i></a>
        {entry.data.custom_action_url  ? 
          <a href={entry.data.custom_action_url} target="_blank" class="btn inet-btn-stroke-dark">Book Now <i class="fa fa-long-arrow-alt-right"></i></a>
          : null
        }
      </p>
    </div>

    <div class="col-six md-six tab-1-2 hide-on-mobile work-hero-text-media" data-aos="fade-left">
      <img src={entry.data.image} alt="">
    </div>
  </div>

  <div class="row section-header work-details">
      <div class="col-two md-two hide-on-tablet hide-on-mobile work-detail-media">
          &nbsp;
      </div>

      <div class="col-ten md-ten tab-full mob-full work-detail-text" data-aos="fade-up">
          <h1 class="display-1">{entry.data.view_title}</h1>

          <span class="lead">
            <Content />
          </span>
      </div>
  </div>
</SolutionLayout>